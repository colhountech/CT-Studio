<style>

.over {
    border-block-style: dashed;
    border-block-width: 1px;
    border-color: red;
    background-color: aquamarine;
}

    .draggable-list {
        border: 1px solid;
        list-style-type: none;
        padding: 0; /* Remove padding */
        margin: 0; /* Remove margins */
    }

.draggable-list li.over .draggable {
   /* background-color: yellow; */
}

    .person-name {
        padding: 10px;
        margin: 0px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

</style>


<ul class="draggable-list" id="draggable-list"> <!-- add draggable-list class and id to <ul> -->

    <li data-index="0">
        <!-- for each <li> item, set data-index as a zero offset value -->
        <!-- the draggable class needs to be inside the li class -->
        <div class="draggable"
             draggable="true">
            <!-- add draggable class and the draggable=true attribute to each card -->
            <p class="person-name" >Five</p>
        </div>
    </li>

    <li data-index="1">
        <div class="draggable"
             draggable="true">
            <p class="person-name">Four</p>
        </div>
    </li>

    <li data-index="2">
        <div class="draggable"
             draggable="true">
            <p class="person-name">Three</p>
        </div>
    </li>

    <li data-index="3">
        <div class="draggable"
             draggable="true">
            <p class="person-name">One</p>
        </div>
    </li>

    <li data-index="4">
        <div class="draggable"
             draggable="true">
            <p class="person-name">Two</p>
        </div>
    </li>

</ul>

<script>
    /* foreach element with draggable class:
     * +-> add a 'dragstart' listener
     *      'dragstart' saves the drag start index of the <li>
     *      it find the closest <li> by searching up the dom to the outer elements until it finds a <li>
     *      then gets the 'data-index' of that <li> element
     *
     * foreach <li> within the "draggable-list li" <ul>:
     *  +-> add four event listeners: dragover, drop, dragenter, dragleave 
     *      'dragover' had to prevent the default behaviour of dragging to open url or submit    
     *      'drop' gets the data-index of the drop end index, and swaps elemtn with  start index
     *       and then removes the 'over' class from the drop end point element
     *      'dragenter' adds some ui sugar by adding the 'over' class to the entered element
     *      'dragleave' add soe UI sugar by removing the 'over' class from the left element
     *
     */

    const draggableList = document.getElementById('draggable-list');

    init();

    function init() {

        addEventListeners(); 
    }

    function dragStart() {

        console.log('Event: ', 'dragStart');
        dragStartIndex = +this.closest('li').getAttribute('data-index');
        console.log(dragStartIndex);
    }

    function dragOver(e) {

        console.log('Event: ', 'dragOver');
        e.preventDefault();
    }

    function dragDrop() {

        console.log('Event: ', 'dragDrop');
        const dragEndIndex = +this.getAttribute('data-index');

        swapItems(dragStartIndex, dragEndIndex);

        this.classList.remove('over');
    }

// Swap list items that are drag and drop

    function swapItems(from, to) {

        listItems = document.querySelectorAll('.draggable-list li');

        const itemOne = listItems[from].querySelector('.draggable');
        const itemTwo = listItems[to].querySelector('.draggable');

        listItems[from].appendChild(itemTwo);
        listItems[to].appendChild(itemOne);
    }

    function dragEnter() {

        console.log('Event: ', 'dragEnter');
        this.classList.add("over");
    }

    function dragLeave() {

        console.log('Event: ', 'dragLeave');
        this.classList.remove('over');
    }


    function addEventListeners() {

        const draggables = document.querySelectorAll('.draggable');

        draggables.forEach((draggable) => {
            draggable.addEventListener('dragstart', dragStart);
        });

        const dragListItems = document.querySelectorAll('.draggable-list li');

        dragListItems.forEach((item) => {
            item.addEventListener('dragover', dragOver);
            item.addEventListener('drop', dragDrop);
            item.addEventListener('dragenter', dragEnter);
            item.addEventListener('dragleave', dragLeave);
        });
    }


</script>